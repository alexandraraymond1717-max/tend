<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tend — Intentional Living</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;1,9..144,300;1,9..144,400&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-main: #FAF8F5;
      --bg-card: #FFFFFF;
      --bg-elevated: #F0EBE4;
      --text: #2D2A26;
      --text-light: #6B6660;
      --text-muted: #9A9590;
      --border: #E8E2D9;
      --border-dark: #D4CCC0;
      --accent: #7D9B76;
      --accent-light: #E8F0E6;
    }

    [data-theme="dark"] {
      --bg-main: #1a1916;
      --bg-card: #252320;
      --bg-elevated: #2d2a26;
      --text: #F5F0E8;
      --text-light: #B8B2A8;
      --text-muted: #8A857C;
      --border: #3d3a36;
      --border-dark: #4a4640;
      --accent: #A8C4A2;
      --accent-light: #2d332c;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background-color: var(--bg-main);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    h1, h2, h3, h4 {
      font-family: 'Fraunces', serif;
      font-weight: 400;
    }

    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--border-dark); border-radius: 4px; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.8; }
    }
    .fade-up { animation: fadeUp 0.6s ease-out forwards; }
    .fade-in { animation: fadeIn 0.4s ease-out forwards; }

    input:focus, textarea:focus {
      outline: none;
      border-color: var(--accent) !important;
    }

    /* Pattern overlays */
    .pattern-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    [data-pattern="botanical"] .pattern-overlay.botanical { opacity: 1; }
    [data-pattern="ocean"] .pattern-overlay.ocean { opacity: 1; }
    [data-pattern="floral"] .pattern-overlay.floral { opacity: 1; }
    [data-pattern="hydrangea"] .pattern-overlay.hydrangea { opacity: 1; }
  </style>
</head>
<body data-theme="light" data-pattern="none">
  <!-- Pattern Overlays -->
  <div class="pattern-overlay botanical">
    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="botanicalPattern" x="0" y="0" width="120" height="120" patternUnits="userSpaceOnUse">
          <!-- Delicate stems and leaves -->
          <path d="M60 10 Q55 25 60 40" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.15"/>
          <path d="M60 25 Q52 22 48 15" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.12"/>
          <path d="M60 32 Q68 28 72 20" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.12"/>
          <circle cx="60" cy="12" r="2" fill="#7D9B76" opacity="0.1"/>
          
          <path d="M20 70 Q15 85 20 100" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.12"/>
          <path d="M20 82 Q12 78 8 72" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.1"/>
          
          <path d="M100 50 Q95 65 100 80" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.12"/>
          <path d="M100 62 Q108 58 112 52" stroke="#7D9B76" fill="none" stroke-width="1" opacity="0.1"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#botanicalPattern)"/>
    </svg>
  </div>

  <div class="pattern-overlay ocean">
    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="oceanPattern" x="0" y="0" width="200" height="100" patternUnits="userSpaceOnUse">
          <!-- Single elegant wave -->
          <path d="M0 50 Q50 30 100 50 Q150 70 200 50" stroke="#7A9CAD" fill="none" stroke-width="1.5" opacity="0.12"/>
          <path d="M0 70 Q50 50 100 70 Q150 90 200 70" stroke="#7A9CAD" fill="none" stroke-width="1" opacity="0.08"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#oceanPattern)"/>
    </svg>
  </div>

  <div class="pattern-overlay floral">
    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="floralPattern" x="0" y="0" width="80" height="80" patternUnits="userSpaceOnUse">
          <!-- Minimal abstract flowers -->
          <circle cx="20" cy="20" r="3" fill="none" stroke="#C48B8B" stroke-width="1" opacity="0.15"/>
          <circle cx="20" cy="20" r="1" fill="#C48B8B" opacity="0.12"/>
          
          <circle cx="60" cy="55" r="4" fill="none" stroke="#C48B8B" stroke-width="1" opacity="0.12"/>
          <circle cx="60" cy="55" r="1.5" fill="#C48B8B" opacity="0.1"/>
          
          <!-- Tiny dots -->
          <circle cx="45" cy="15" r="1" fill="#C48B8B" opacity="0.1"/>
          <circle cx="10" cy="60" r="1" fill="#C48B8B" opacity="0.08"/>
          <circle cx="70" cy="25" r="0.8" fill="#C48B8B" opacity="0.08"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#floralPattern)"/>
    </svg>
  </div>

  <div class="pattern-overlay hydrangea">
    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern id="hydrangeaPattern" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse">
          <!-- Clustered small circles like hydrangea petals -->
          <circle cx="25" cy="25" r="4" fill="#9B8AAE" opacity="0.08"/>
          <circle cx="30" cy="22" r="3" fill="#9B8AAE" opacity="0.1"/>
          <circle cx="22" cy="30" r="3.5" fill="#9B8AAE" opacity="0.07"/>
          <circle cx="28" cy="29" r="2.5" fill="#9B8AAE" opacity="0.09"/>
          
          <circle cx="75" cy="70" r="3.5" fill="#9B8AAE" opacity="0.09"/>
          <circle cx="80" cy="68" r="3" fill="#9B8AAE" opacity="0.07"/>
          <circle cx="72" cy="74" r="4" fill="#9B8AAE" opacity="0.08"/>
          <circle cx="78" cy="75" r="2.5" fill="#9B8AAE" opacity="0.1"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#hydrangeaPattern)"/>
    </svg>
  </div>

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // ============ CONSTANTS ============
    const THEMES = [
      { id: 'light', name: 'Light', pattern: 'none' },
      { id: 'dark', name: 'Dark', pattern: 'none' },
      { id: 'botanical', name: 'Botanical', pattern: 'botanical' },
      { id: 'ocean', name: 'Ocean', pattern: 'ocean' },
      { id: 'floral', name: 'Floral', pattern: 'floral' },
      { id: 'hydrangea', name: 'Hydrangea', pattern: 'hydrangea' },
    ];

    const LIFE_AREAS = {
      health: { name: 'Health & Wellness', icon: '◐', color: '#7D9B76' },
      relationships: { name: 'Relationships', icon: '♡', color: '#C48B8B' },
      career: { name: 'Career & Work', icon: '◆', color: '#7A9CAD' },
      finances: { name: 'Finances', icon: '○', color: '#C9A66B' },
      growth: { name: 'Personal Growth', icon: '✦', color: '#9B8AAE' },
      fun: { name: 'Fun & Adventure', icon: '✺', color: '#C4836A' },
    };

    const VIEWS = {
      YEAR: 'year',
      VALUES: 'values',
      LIFE_AREAS: 'lifeAreas',
      GOALS: 'goals',
      SEASONS: 'seasons',
      MONTH: 'month',
    };

    const MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

    // ============ AI CHAT CONTENT (complements, doesn't repeat visuals) ============
    const AI_CONTENT = {
      year: {
        initial: `Here's your year at a glance.

Before we fill it in, let's get clear on what you actually want from these twelve months. Not what you <em>should</em> want — what you genuinely desire.

What's one thing that, if it happened this year, would make everything feel worthwhile?`,
        followUps: [
          `That's meaningful. What would need to be true for that to happen? What conditions, commitments, or changes?`,
          `And what might get in the way? What patterns tend to pull you off course?`,
          `Good. Let's ground this in your values — the principles that will guide your decisions.`,
        ]
      },
      values: {
        initial: `Values aren't goals — they're <em>how</em> you want to move through the world, regardless of outcomes.

Someone who values adventure might take a spontaneous trip or try a new restaurant. Someone who values growth might read challenging books or seek hard feedback.

When you're living in alignment with your values, even difficult things feel meaningful. When you're not, even success feels hollow.

What qualities do you want to embody this year?`,
        followUps: [
          `Notice which of these feel aspirational versus which feel true. Both are valid — but it's worth knowing the difference.`,
          `Is there a value you've been living by that no longer serves you? Something you inherited but didn't choose?`,
          `These will be your compass. Now let's see how the different parts of your life are actually doing.`,
        ]
      },
      lifeAreas: {
        initial: `Be honest with these ratings — not harsh, just honest.

A "5" isn't a failure. It might be intentional — maybe you're putting career on hold to focus on family. Or it might be a wake-up call.

The goal isn't to make everything a 10. It's to be intentional about where you invest your energy.`,
        followUps: [
          `Where do you feel the most friction? The gap between where you are and where you want to be?`,
          `If you could only improve one area this year, which would create the most positive ripple effects?`,
          `Let's turn this into something concrete.`,
        ]
      },
      goals: {
        initial: `Goals work best when they're specific enough to know if you've achieved them, but flexible enough to adapt.

"Get healthier" is a direction. "Run a 5K by June" is a goal. "Feel strong and energized" is an outcome.

All three matter. What combination feels right for you?`,
        followUps: [
          `For your most important goal — what's the smallest possible first step? Something you could do today?`,
          `What would make this goal feel like play instead of obligation?`,
          `Good. Now let's think about timing — when in the year does each of these make sense?`,
        ]
      },
      seasons: {
        initial: `Not everything belongs in every season.

Winter naturally lends itself to rest and reflection. Spring brings energy for starting new things. Summer is for expansion and experiences. Fall is for harvesting and completing.

What wants to happen when? What timing is already built into your life — work cycles, family rhythms, travel?`,
        followUps: [
          `Where do you need to protect space? What tends to get squeezed out when life gets busy?`,
          `Is there a season you're dreading? What would make it feel more manageable?`,
          `Let's get tactical with this month specifically.`,
        ]
      },
      month: {
        initial: `Looking at the days ahead — where's the breathing room? Or is there any?

The calendar isn't just about what you're doing. It's about what you're <em>not</em> doing. The white space is where life actually happens.

What needs to be protected this month?`,
        followUps: [
          `Does this month reflect your stated priorities? Or is there a mismatch between what you said matters and what's getting scheduled?`,
          `What's one thing you keep meaning to do that never makes it onto the calendar?`,
          `How do you want to feel at the end of this month? What would make it a success?`,
        ]
      }
    };

    // ============ MAIN APP ============
    function TendApp() {
      const [currentTheme, setCurrentTheme] = useState('light');
      const [currentPattern, setCurrentPattern] = useState('none');
      const [currentView, setCurrentView] = useState(VIEWS.YEAR);
      const [values, setValues] = useState([]);
      const [lifeAreaRatings, setLifeAreaRatings] = useState({});
      const [goals, setGoals] = useState([]);
      const [seasonIntentions, setSeasonIntentions] = useState({});
      const [events, setEvents] = useState([]);
      const [messages, setMessages] = useState([]);
      const [inputValue, setInputValue] = useState('');
      const [isTyping, setIsTyping] = useState(false);
      const [messageIndex, setMessageIndex] = useState(0);
      const [showThemeSelector, setShowThemeSelector] = useState(false);
      const [showEventModal, setShowEventModal] = useState(false);
      const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth());
      const messagesEndRef = useRef(null);

      useEffect(() => {
        document.body.setAttribute('data-theme', currentTheme);
        document.body.setAttribute('data-pattern', currentPattern);
      }, [currentTheme, currentPattern]);

      useEffect(() => {
        const viewKey = currentView === VIEWS.LIFE_AREAS ? 'lifeAreas' : currentView;
        if (AI_CONTENT[viewKey]) {
          setMessages([{ role: 'assistant', content: AI_CONTENT[viewKey].initial }]);
          setMessageIndex(0);
        }
      }, [currentView]);

      useEffect(() => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      }, [messages]);

      const handleThemeChange = (theme) => {
        if (theme.id === 'dark') {
          setCurrentTheme('dark');
          setCurrentPattern('none');
        } else if (theme.id === 'light') {
          setCurrentTheme('light');
          setCurrentPattern('none');
        } else {
          setCurrentTheme('light');
          setCurrentPattern(theme.pattern);
        }
        setShowThemeSelector(false);
      };

      const handleSendMessage = () => {
        if (!inputValue.trim()) return;
        setMessages(prev => [...prev, { role: 'user', content: inputValue }]);
        setInputValue('');
        setIsTyping(true);

        setTimeout(() => {
          const viewKey = currentView === VIEWS.LIFE_AREAS ? 'lifeAreas' : currentView;
          const flow = AI_CONTENT[viewKey];
          if (flow?.followUps) {
            const response = flow.followUps[Math.min(messageIndex, flow.followUps.length - 1)];
            setMessages(prev => [...prev, { role: 'assistant', content: response }]);
            setMessageIndex(prev => prev + 1);
          }
          setIsTyping(false);
        }, 1200);
      };

      const navigateNext = () => {
        const viewOrder = [VIEWS.YEAR, VIEWS.VALUES, VIEWS.LIFE_AREAS, VIEWS.GOALS, VIEWS.SEASONS, VIEWS.MONTH];
        const currentIndex = viewOrder.indexOf(currentView);
        if (currentIndex < viewOrder.length - 1) {
          setCurrentView(viewOrder[currentIndex + 1]);
        }
      };

      return (
        <div style={styles.container}>
          {/* Header */}
          <header style={styles.header}>
            <div style={styles.headerLeft}>
              <div style={styles.logoContainer}>
                <svg width="28" height="28" viewBox="0 0 32 32" fill="none" style={{ marginRight: '8px' }}>
                  <path d="M16 26 Q16 18 16 14" stroke="var(--accent)" strokeWidth="2" strokeLinecap="round" fill="none"/>
                  <path d="M16 18 Q10 16 8 10 Q14 12 16 18" fill="var(--accent)" opacity="0.5"/>
                  <path d="M16 14 Q22 10 24 4 Q18 8 16 14" fill="var(--accent)"/>
                  <path d="M16 10 Q14 6 16 2 Q18 6 16 10" fill="var(--accent)" opacity="0.7"/>
                </svg>
                <h1 style={styles.logoText}>tend</h1>
              </div>
              <p style={styles.tagline}>a space for designing your life with intention</p>
            </div>
            
            <div style={styles.headerRight}>
              <nav style={styles.nav}>
                {[
                  { id: VIEWS.YEAR, label: 'Year' },
                  { id: VIEWS.VALUES, label: 'Values' },
                  { id: VIEWS.LIFE_AREAS, label: 'Life Areas' },
                  { id: VIEWS.GOALS, label: 'Goals' },
                  { id: VIEWS.SEASONS, label: 'Seasons' },
                  { id: VIEWS.MONTH, label: 'Month' },
                ].map(item => (
                  <button 
                    key={item.id}
                    style={{
                      ...styles.navButton,
                      ...(currentView === item.id && styles.navButtonActive)
                    }}
                    onClick={() => setCurrentView(item.id)}
                  >
                    {item.label}
                  </button>
                ))}
              </nav>
              <button 
                style={styles.themeButton}
                onClick={() => setShowThemeSelector(!showThemeSelector)}
              >
                ◐
              </button>
              
              {showThemeSelector && (
                <div style={styles.themeDropdown}>
                  {THEMES.map(theme => (
                    <button
                      key={theme.id}
                      style={styles.themeOption}
                      onClick={() => handleThemeChange(theme)}
                    >
                      <span style={{
                        ...styles.themeSwatch,
                        background: theme.id === 'dark' ? '#1a1916' : 
                                   theme.id === 'botanical' ? '#7D9B76' :
                                   theme.id === 'ocean' ? '#7A9CAD' :
                                   theme.id === 'floral' ? '#C48B8B' :
                                   theme.id === 'hydrangea' ? '#9B8AAE' : '#FAF8F5',
                        border: theme.id === 'light' ? '1px solid #E8E2D9' : 'none',
                      }} />
                      {theme.name}
                    </button>
                  ))}
                </div>
              )}
            </div>
          </header>

          {/* Main Content */}
          <main style={styles.main}>
            {/* Visualization Panel */}
            <div style={styles.vizPanel}>
              {currentView === VIEWS.YEAR && (
                <YearView 
                  events={events} 
                  onMonthClick={(month) => {
                    setSelectedMonth(month);
                    setCurrentView(VIEWS.MONTH);
                  }}
                />
              )}
              {currentView === VIEWS.VALUES && <ValuesView values={values} setValues={setValues} />}
              {currentView === VIEWS.LIFE_AREAS && <LifeAreasView ratings={lifeAreaRatings} setRatings={setLifeAreaRatings} />}
              {currentView === VIEWS.GOALS && <GoalsView goals={goals} setGoals={setGoals} />}
              {currentView === VIEWS.SEASONS && <SeasonsView intentions={seasonIntentions} setIntentions={setSeasonIntentions} />}
              {currentView === VIEWS.MONTH && (
                <MonthView 
                  events={events}
                  selectedMonth={selectedMonth}
                  onAddEvent={() => setShowEventModal(true)}
                  onDeleteEvent={(id) => setEvents(prev => prev.filter(e => e.id !== id))}
                />
              )}
            </div>

            {/* Chat Panel */}
            <div style={styles.chatPanel}>
              <div style={styles.chatMessages}>
                {messages.map((msg, idx) => (
                  <ChatMessage key={idx} message={msg} />
                ))}
                {isTyping && <TypingIndicator />}
                <div ref={messagesEndRef} />
              </div>
              
              <div style={styles.chatInputArea}>
                <textarea
                  style={styles.chatInput}
                  value={inputValue}
                  onChange={(e) => setInputValue(e.target.value)}
                  onKeyDown={(e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                      e.preventDefault();
                      handleSendMessage();
                    }
                  }}
                  placeholder="Share what's on your mind..."
                  rows={3}
                />
                <div style={styles.chatActions}>
                  {messageIndex >= 2 && currentView !== VIEWS.MONTH && (
                    <button style={styles.progressButton} onClick={navigateNext}>
                      Continue →
                    </button>
                  )}
                  <button 
                    style={{
                      ...styles.sendButton,
                      ...(inputValue.trim() ? {} : styles.sendButtonDisabled)
                    }}
                    onClick={handleSendMessage}
                    disabled={!inputValue.trim()}
                  >
                    ↑
                  </button>
                </div>
              </div>
            </div>
          </main>

          {showEventModal && (
            <EventModal 
              onClose={() => setShowEventModal(false)}
              onAdd={(eventData) => {
                setEvents(prev => [...prev, { ...eventData, id: Date.now() }]);
                setShowEventModal(false);
              }}
            />
          )}
        </div>
      );
    }

    // ============ YEAR VIEW ============
    function YearView({ events, onMonthClick }) {
      const currentYear = new Date().getFullYear();
      const currentMonth = new Date().getMonth();
      const currentDay = new Date().getDate();

      const getMonthData = (monthIndex) => {
        const firstDay = new Date(currentYear, monthIndex, 1).getDay();
        const daysInMonth = new Date(currentYear, monthIndex + 1, 0).getDate();
        return { firstDay, daysInMonth };
      };

      const getEventsForDay = (month, day) => {
        const dateStr = `${currentYear}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        return events.filter(e => {
          const start = new Date(e.startDate);
          const end = new Date(e.endDate);
          const current = new Date(dateStr);
          return current >= start && current <= end;
        });
      };

      return (
        <div style={styles.yearView} className="fade-up">
          <h2 style={styles.yearTitle}>{currentYear}</h2>
          <div style={styles.yearGrid}>
            {MONTHS.map((monthName, monthIndex) => {
              const { firstDay, daysInMonth } = getMonthData(monthIndex);
              const isCurrentMonth = monthIndex === currentMonth;
              
              return (
                <div 
                  key={monthIndex} 
                  style={{
                    ...styles.miniMonth,
                    ...(isCurrentMonth && styles.miniMonthCurrent)
                  }}
                  onClick={() => onMonthClick(monthIndex)}
                >
                  <div style={styles.miniMonthHeader}>{monthName}</div>
                  <div style={styles.miniMonthGrid}>
                    {['S','M','T','W','T','F','S'].map((d, i) => (
                      <div key={i} style={styles.miniDayHeader}>{d}</div>
                    ))}
                    {Array.from({ length: firstDay }, (_, i) => (
                      <div key={`empty-${i}`} style={styles.miniDayEmpty} />
                    ))}
                    {Array.from({ length: daysInMonth }, (_, i) => {
                      const day = i + 1;
                      const isToday = monthIndex === currentMonth && day === currentDay;
                      const dayEvents = getEventsForDay(monthIndex, day);
                      
                      return (
                        <div 
                          key={day} 
                          style={{
                            ...styles.miniDay,
                            ...(isToday && styles.miniDayToday),
                            ...(dayEvents.length > 0 && styles.miniDayWithEvent),
                          }}
                        >
                          {day}
                        </div>
                      );
                    })}
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      );
    }

    // ============ VALUES VIEW ============
    function ValuesView({ values, setValues }) {
      const [inputVal, setInputVal] = useState('');
      const suggestedValues = ['Freedom', 'Connection', 'Growth', 'Creativity', 'Adventure', 'Peace', 'Family', 'Health', 'Authenticity', 'Joy', 'Courage', 'Balance'];

      const addValue = (val) => {
        if (values.length < 5 && !values.includes(val)) {
          setValues([...values, val]);
        }
      };

      return (
        <div style={styles.viewContainer} className="fade-up">
          <h2 style={styles.viewTitle}>Your Values</h2>
          
          <div style={styles.selectedValues}>
            {values.length === 0 ? (
              <p style={styles.emptyText}>Select or add up to 5 values</p>
            ) : (
              values.map(val => (
                <span key={val} style={styles.valueTag}>
                  {val}
                  <button style={styles.valueTagRemove} onClick={() => setValues(values.filter(v => v !== val))}>×</button>
                </span>
              ))
            )}
          </div>

          <div style={styles.valueSuggestions}>
            {suggestedValues.filter(v => !values.includes(v)).map(val => (
              <button 
                key={val} 
                style={styles.valueSuggestion}
                onClick={() => addValue(val)}
                disabled={values.length >= 5}
              >
                {val}
              </button>
            ))}
          </div>

          <div style={styles.customInput}>
            <input
              type="text"
              placeholder="Add your own..."
              value={inputVal}
              onChange={(e) => setInputVal(e.target.value)}
              onKeyDown={(e) => {
                if (e.key === 'Enter' && inputVal.trim()) {
                  addValue(inputVal.trim());
                  setInputVal('');
                }
              }}
              style={styles.textInput}
            />
          </div>
        </div>
      );
    }

    // ============ LIFE AREAS VIEW ============
    function LifeAreasView({ ratings, setRatings }) {
      return (
        <div style={styles.viewContainer} className="fade-up">
          <h2 style={styles.viewTitle}>Life Areas</h2>
          
          <div style={styles.lifeAreasGrid}>
            {Object.entries(LIFE_AREAS).map(([key, area]) => (
              <div key={key} style={styles.lifeAreaCard}>
                <div style={styles.lifeAreaHeader}>
                  <span style={{...styles.lifeAreaIcon, color: area.color}}>{area.icon}</span>
                  <span style={styles.lifeAreaName}>{area.name}</span>
                </div>
                <div style={styles.sliderContainer}>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    value={ratings[key] || 5}
                    onChange={(e) => setRatings({...ratings, [key]: parseInt(e.target.value)})}
                    style={{...styles.slider, accentColor: area.color}}
                  />
                  <span style={{...styles.sliderValue, color: area.color}}>{ratings[key] || 5}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    }

    // ============ GOALS VIEW ============
    function GoalsView({ goals, setGoals }) {
      const [newGoal, setNewGoal] = useState({ text: '', area: 'health' });

      const addGoal = () => {
        if (newGoal.text.trim()) {
          setGoals([...goals, { ...newGoal, id: Date.now() }]);
          setNewGoal({ text: '', area: 'health' });
        }
      };

      return (
        <div style={styles.viewContainer} className="fade-up">
          <h2 style={styles.viewTitle}>Goals</h2>
          
          <div style={styles.goalForm}>
            <input
              type="text"
              placeholder="What do you want to achieve?"
              value={newGoal.text}
              onChange={(e) => setNewGoal({...newGoal, text: e.target.value})}
              onKeyDown={(e) => e.key === 'Enter' && addGoal()}
              style={{...styles.textInput, flex: 1}}
            />
            <select
              value={newGoal.area}
              onChange={(e) => setNewGoal({...newGoal, area: e.target.value})}
              style={styles.selectInput}
            >
              {Object.entries(LIFE_AREAS).map(([key, area]) => (
                <option key={key} value={key}>{area.name}</option>
              ))}
            </select>
            <button onClick={addGoal} style={styles.addButton}>Add</button>
          </div>

          <div style={styles.goalsList}>
            {goals.length === 0 ? (
              <p style={styles.emptyText}>Your goals will appear here</p>
            ) : (
              goals.map(goal => (
                <div key={goal.id} style={{...styles.goalCard, borderLeftColor: LIFE_AREAS[goal.area].color}}>
                  <div>
                    <span style={{...styles.goalArea, color: LIFE_AREAS[goal.area].color}}>
                      {LIFE_AREAS[goal.area].icon} {LIFE_AREAS[goal.area].name}
                    </span>
                    <p style={styles.goalText}>{goal.text}</p>
                  </div>
                  <button onClick={() => setGoals(goals.filter(g => g.id !== goal.id))} style={styles.deleteButton}>×</button>
                </div>
              ))
            )}
          </div>
        </div>
      );
    }

    // ============ SEASONS VIEW ============
    function SeasonsView({ intentions, setIntentions }) {
      const seasons = [
        { id: 'winter', name: 'Winter', months: 'Dec – Feb', color: '#7A9CAD' },
        { id: 'spring', name: 'Spring', months: 'Mar – May', color: '#7D9B76' },
        { id: 'summer', name: 'Summer', months: 'Jun – Aug', color: '#C9A66B' },
        { id: 'fall', name: 'Fall', months: 'Sep – Nov', color: '#C4836A' },
      ];

      return (
        <div style={styles.viewContainer} className="fade-up">
          <h2 style={styles.viewTitle}>Seasonal Intentions</h2>
          
          <div style={styles.seasonsGrid}>
            {seasons.map(season => (
              <div key={season.id} style={styles.seasonCard}>
                <div style={{...styles.seasonHeader, color: season.color}}>
                  <h3 style={styles.seasonName}>{season.name}</h3>
                  <span style={styles.seasonMonths}>{season.months}</span>
                </div>
                <textarea
                  placeholder="What's your focus this season?"
                  value={intentions[season.id] || ''}
                  onChange={(e) => setIntentions({...intentions, [season.id]: e.target.value})}
                  style={styles.seasonTextarea}
                  rows={3}
                />
              </div>
            ))}
          </div>
        </div>
      );
    }

    // ============ MONTH VIEW ============
    function MonthView({ events, selectedMonth, onAddEvent, onDeleteEvent }) {
      const now = new Date();
      const year = now.getFullYear();
      const monthName = ['January', 'February', 'March', 'April', 'May', 'June', 
                         'July', 'August', 'September', 'October', 'November', 'December'][selectedMonth];
      const daysInMonth = new Date(year, selectedMonth + 1, 0).getDate();
      const firstDay = new Date(year, selectedMonth, 1).getDay();

      const getEventsForDay = (day) => {
        const dateStr = `${year}-${String(selectedMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        return events.filter(e => {
          const start = new Date(e.startDate);
          const end = new Date(e.endDate);
          const current = new Date(dateStr);
          return current >= start && current <= end;
        });
      };

      const EVENT_COLORS = {
        trip: '#7A9CAD',
        rest: '#7D9B76',
        dateNight: '#C48B8B',
        personal: '#9B8AAE',
        work: '#6B6660',
        social: '#C9A66B',
      };

      return (
        <div style={styles.viewContainer} className="fade-up">
          <h2 style={styles.viewTitle}>{monthName}</h2>
          
          <div style={styles.calendarContainer}>
            <div style={styles.calendarGrid}>
              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (
                <div key={day} style={styles.calendarDayHeader}>{day}</div>
              ))}
              {Array.from({ length: firstDay }, (_, i) => (
                <div key={`empty-${i}`} style={styles.calendarDayEmpty} />
              ))}
              {Array.from({ length: daysInMonth }, (_, i) => {
                const day = i + 1;
                const dayEvents = getEventsForDay(day);
                const isToday = selectedMonth === now.getMonth() && day === now.getDate();
                
                return (
                  <div key={day} style={{...styles.calendarDay, ...(isToday && styles.calendarDayToday)}}>
                    <span style={{...styles.calendarDayNumber, ...(isToday && styles.calendarDayNumberToday)}}>{day}</span>
                    {dayEvents.length > 0 && (
                      <div style={styles.calendarDayDots}>
                        {dayEvents.slice(0,3).map((e, idx) => (
                          <span key={idx} style={{...styles.calendarDayDot, backgroundColor: EVENT_COLORS[e.type] || 'var(--accent)'}} />
                        ))}
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          </div>

          <div style={styles.eventsList}>
            <div style={styles.eventsHeader}>
              <h3 style={styles.eventsTitle}>Planned</h3>
              <button style={styles.addEventButton} onClick={onAddEvent}>+ Add</button>
            </div>
            {events.length === 0 ? (
              <p style={styles.emptyText}>Nothing scheduled yet</p>
            ) : (
              <div style={styles.eventsGrid}>
                {events.map(event => (
                  <div key={event.id} style={{...styles.eventCard, borderLeftColor: EVENT_COLORS[event.type] || 'var(--accent)'}}>
                    <div>
                      <span style={styles.eventType}>{event.type}</span>
                      <p style={styles.eventTitle}>{event.title}</p>
                      <span style={styles.eventDate}>
                        {new Date(event.startDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                        {event.startDate !== event.endDate && ` – ${new Date(event.endDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}`}
                      </span>
                    </div>
                    <button onClick={() => onDeleteEvent(event.id)} style={styles.deleteButton}>×</button>
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      );
    }

    // ============ CHAT COMPONENTS ============
    function ChatMessage({ message }) {
      const isAssistant = message.role === 'assistant';
      
      return (
        <div style={{...styles.chatMessage, justifyContent: isAssistant ? 'flex-start' : 'flex-end'}} className="fade-in">
          {isAssistant && (
            <div style={styles.chatAvatar}>
              <span style={styles.chatAvatarText}>T</span>
            </div>
          )}
          <div style={{...styles.chatBubble, ...(isAssistant ? styles.chatBubbleAssistant : styles.chatBubbleUser)}}>
            <div dangerouslySetInnerHTML={{ __html: message.content.replace(/\n/g, '<br/>') }} />
          </div>
        </div>
      );
    }

    function TypingIndicator() {
      return (
        <div style={styles.chatMessage} className="fade-in">
          <div style={styles.chatAvatar}>
            <span style={styles.chatAvatarText}>T</span>
          </div>
          <div style={styles.typingBubble}>
            <span style={{...styles.typingDot, animationDelay: '0s'}}>•</span>
            <span style={{...styles.typingDot, animationDelay: '0.15s'}}>•</span>
            <span style={{...styles.typingDot, animationDelay: '0.3s'}}>•</span>
          </div>
        </div>
      );
    }

    // ============ EVENT MODAL ============
    function EventModal({ onClose, onAdd }) {
      const [title, setTitle] = useState('');
      const [type, setType] = useState('trip');
      const [startDate, setStartDate] = useState('');
      const [endDate, setEndDate] = useState('');

      const types = ['trip', 'rest', 'dateNight', 'personal', 'work', 'social'];

      return (
        <div style={styles.modalOverlay} onClick={onClose}>
          <div style={styles.modal} onClick={e => e.stopPropagation()} className="fade-up">
            <div style={styles.modalHeader}>
              <h3 style={styles.modalTitle}>Add a moment</h3>
              <button style={styles.modalClose} onClick={onClose}>×</button>
            </div>
            <form onSubmit={(e) => { e.preventDefault(); if (title && startDate && endDate) onAdd({ title, type, startDate, endDate }); }} style={styles.modalForm}>
              <div style={styles.formField}>
                <label style={styles.formLabel}>What is it?</label>
                <input type="text" style={styles.textInput} value={title} onChange={(e) => setTitle(e.target.value)} placeholder="Weekend trip, date night..." />
              </div>
              <div style={styles.formField}>
                <label style={styles.formLabel}>Type</label>
                <div style={styles.typeGrid}>
                  {types.map(t => (
                    <button key={t} type="button" style={{...styles.typeButton, ...(type === t && styles.typeButtonActive)}} onClick={() => setType(t)}>
                      {t}
                    </button>
                  ))}
                </div>
              </div>
              <div style={styles.formRow}>
                <div style={styles.formField}>
                  <label style={styles.formLabel}>Start</label>
                  <input type="date" style={styles.textInput} value={startDate} onChange={(e) => setStartDate(e.target.value)} />
                </div>
                <div style={styles.formField}>
                  <label style={styles.formLabel}>End</label>
                  <input type="date" style={styles.textInput} value={endDate} onChange={(e) => setEndDate(e.target.value)} />
                </div>
              </div>
              <button type="submit" style={{...styles.submitButton, ...(!title || !startDate || !endDate ? styles.submitButtonDisabled : {})}}>
                Add to timeline
              </button>
            </form>
          </div>
        </div>
      );
    }

    // ============ STYLES ============
    const styles = {
      container: { minHeight: '100vh', position: 'relative', zIndex: 1 },
      
      // Header
      header: {
        display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start',
        padding: '1.25rem 2rem', borderBottom: '1px solid var(--border)',
        backgroundColor: 'var(--bg-card)', position: 'relative', zIndex: 10,
      },
      headerLeft: { display: 'flex', flexDirection: 'column', gap: '0.25rem' },
      headerRight: { display: 'flex', alignItems: 'center', gap: '1rem', position: 'relative' },
      logoContainer: { display: 'flex', alignItems: 'center' },
      logoText: { fontSize: '1.5rem', fontFamily: "'Fraunces', serif", fontWeight: 400, color: 'var(--text)' },
      tagline: { fontSize: '0.85rem', color: 'var(--text-muted)', fontStyle: 'italic', marginLeft: '36px' },
      nav: { display: 'flex', gap: '2px', backgroundColor: 'var(--bg-elevated)', padding: '4px', borderRadius: '10px' },
      navButton: {
        padding: '0.45rem 0.875rem', backgroundColor: 'transparent', border: 'none', borderRadius: '8px',
        color: 'var(--text-muted)', fontSize: '0.8rem', fontFamily: "'DM Sans', sans-serif", fontWeight: 500, cursor: 'pointer',
      },
      navButtonActive: { backgroundColor: 'var(--bg-card)', color: 'var(--text)', boxShadow: '0 1px 3px rgba(0,0,0,0.08)' },
      themeButton: {
        width: '36px', height: '36px', borderRadius: '50%', backgroundColor: 'var(--bg-elevated)',
        border: '1px solid var(--border)', cursor: 'pointer', fontSize: '1rem', color: 'var(--text-light)',
      },
      themeDropdown: {
        position: 'absolute', top: '100%', right: 0, marginTop: '8px',
        backgroundColor: 'var(--bg-card)', border: '1px solid var(--border)', borderRadius: '12px',
        padding: '0.5rem', minWidth: '140px', boxShadow: '0 10px 40px rgba(0,0,0,0.12)', zIndex: 100,
      },
      themeOption: {
        display: 'flex', alignItems: 'center', gap: '0.75rem', width: '100%', padding: '0.5rem 0.75rem',
        backgroundColor: 'transparent', border: 'none', borderRadius: '8px', cursor: 'pointer',
        color: 'var(--text)', fontSize: '0.85rem', textAlign: 'left',
      },
      themeSwatch: { width: '16px', height: '16px', borderRadius: '50%' },

      // Main layout
      main: { display: 'grid', gridTemplateColumns: '1fr 380px', height: 'calc(100vh - 80px)', position: 'relative', zIndex: 1 },
      vizPanel: { padding: '2rem', overflow: 'auto', backgroundColor: 'var(--bg-main)' },
      chatPanel: { backgroundColor: 'var(--bg-card)', borderLeft: '1px solid var(--border)', display: 'flex', flexDirection: 'column' },
      chatMessages: { flex: 1, padding: '1.5rem', overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '1rem' },
      chatInputArea: { padding: '1rem 1.25rem 1.25rem', borderTop: '1px solid var(--border)' },
      chatInput: {
        width: '100%', padding: '0.875rem 1rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border)',
        borderRadius: '12px', color: 'var(--text)', fontSize: '0.9rem', fontFamily: "'DM Sans', sans-serif",
        resize: 'none', marginBottom: '0.75rem',
      },
      chatActions: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' },
      progressButton: {
        padding: '0.5rem 1rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border-dark)',
        borderRadius: '20px', color: 'var(--text)', fontSize: '0.8rem', fontFamily: "'DM Sans', sans-serif", cursor: 'pointer',
      },
      sendButton: {
        width: '38px', height: '38px', borderRadius: '50%', backgroundColor: 'var(--accent)', border: 'none',
        color: 'white', fontSize: '1.125rem', cursor: 'pointer', marginLeft: 'auto',
      },
      sendButtonDisabled: { backgroundColor: 'var(--border)', cursor: 'not-allowed' },

      // Chat messages
      chatMessage: { display: 'flex', gap: '0.75rem', alignItems: 'flex-start' },
      chatAvatar: {
        width: '32px', height: '32px', borderRadius: '50%', backgroundColor: 'var(--accent-light)',
        border: '1px solid var(--accent)', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0,
      },
      chatAvatarText: { fontFamily: "'Fraunces', serif", fontSize: '0.875rem', color: 'var(--accent)' },
      chatBubble: { padding: '0.875rem 1rem', borderRadius: '14px', maxWidth: '85%', fontSize: '0.9rem', lineHeight: 1.6 },
      chatBubbleAssistant: { backgroundColor: 'var(--bg-elevated)', borderTopLeftRadius: '4px', color: 'var(--text)' },
      chatBubbleUser: { backgroundColor: 'var(--accent)', borderTopRightRadius: '4px', color: 'white' },
      typingBubble: { padding: '0.875rem 1rem', backgroundColor: 'var(--bg-elevated)', borderRadius: '14px', borderTopLeftRadius: '4px', display: 'flex', gap: '4px' },
      typingDot: { color: 'var(--accent)', fontSize: '1.25rem', lineHeight: 1, animation: 'pulse 1s infinite' },

      // Year view
      yearView: { maxWidth: '900px', margin: '0 auto' },
      yearTitle: { fontSize: '2.5rem', fontFamily: "'Fraunces', serif", color: 'var(--text)', marginBottom: '1.5rem', textAlign: 'center' },
      yearGrid: { display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1rem' },
      miniMonth: {
        backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '0.875rem',
        border: '1px solid var(--border)', cursor: 'pointer', transition: 'all 0.2s ease',
      },
      miniMonthCurrent: { borderColor: 'var(--accent)', boxShadow: '0 0 0 1px var(--accent)' },
      miniMonthHeader: { fontSize: '0.8rem', fontWeight: 500, color: 'var(--text)', marginBottom: '0.5rem', textAlign: 'center' },
      miniMonthGrid: { display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: '1px' },
      miniDayHeader: { fontSize: '0.5rem', color: 'var(--text-muted)', textAlign: 'center', padding: '2px 0' },
      miniDayEmpty: { aspectRatio: '1' },
      miniDay: { aspectRatio: '1', fontSize: '0.55rem', color: 'var(--text-light)', display: 'flex', alignItems: 'center', justifyContent: 'center', borderRadius: '2px' },
      miniDayToday: { backgroundColor: 'var(--accent)', color: 'white', fontWeight: 600 },
      miniDayWithEvent: { backgroundColor: 'var(--accent-light)' },

      // View containers
      viewContainer: { maxWidth: '700px', margin: '0 auto' },
      viewTitle: { fontSize: '2rem', fontFamily: "'Fraunces', serif", color: 'var(--text)', marginBottom: '1.5rem', textAlign: 'center' },
      emptyText: { color: 'var(--text-muted)', textAlign: 'center', padding: '1.5rem', fontStyle: 'italic' },

      // Values
      selectedValues: {
        backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '1.25rem',
        border: '1px solid var(--border)', marginBottom: '1.5rem', minHeight: '70px',
        display: 'flex', flexWrap: 'wrap', gap: '0.5rem', alignContent: 'flex-start',
      },
      valueTag: {
        display: 'inline-flex', alignItems: 'center', gap: '0.5rem', padding: '0.5rem 0.875rem',
        backgroundColor: 'var(--accent)', color: 'white', borderRadius: '20px', fontSize: '0.875rem',
      },
      valueTagRemove: { background: 'none', border: 'none', color: 'white', fontSize: '1rem', cursor: 'pointer', padding: 0, opacity: 0.8 },
      valueSuggestions: { display: 'flex', flexWrap: 'wrap', gap: '0.5rem', marginBottom: '1.5rem', justifyContent: 'center' },
      valueSuggestion: {
        padding: '0.5rem 1rem', backgroundColor: 'var(--bg-card)', border: '1px solid var(--border)',
        borderRadius: '20px', color: 'var(--text)', fontSize: '0.85rem', cursor: 'pointer',
      },
      customInput: { textAlign: 'center' },
      textInput: {
        padding: '0.75rem 1rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border)',
        borderRadius: '10px', color: 'var(--text)', fontSize: '0.9rem', fontFamily: "'DM Sans', sans-serif",
      },

      // Life areas
      lifeAreasGrid: { display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' },
      lifeAreaCard: { backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '1.25rem', border: '1px solid var(--border)' },
      lifeAreaHeader: { display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '1rem' },
      lifeAreaIcon: { fontSize: '1.25rem' },
      lifeAreaName: { fontSize: '0.9rem', fontWeight: 500, color: 'var(--text)' },
      sliderContainer: { display: 'flex', alignItems: 'center', gap: '1rem' },
      slider: { flex: 1, height: '6px', borderRadius: '3px', cursor: 'pointer' },
      sliderValue: { fontWeight: 600, fontSize: '1.25rem', minWidth: '24px', textAlign: 'center' },

      // Goals
      goalForm: { display: 'flex', gap: '0.75rem', marginBottom: '1.5rem', flexWrap: 'wrap' },
      selectInput: {
        padding: '0.75rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border)',
        borderRadius: '10px', color: 'var(--text)', fontSize: '0.85rem', fontFamily: "'DM Sans', sans-serif",
      },
      addButton: {
        padding: '0.75rem 1.25rem', backgroundColor: 'var(--accent)', border: 'none',
        borderRadius: '10px', color: 'white', fontSize: '0.875rem', cursor: 'pointer',
      },
      goalsList: { display: 'flex', flexDirection: 'column', gap: '0.75rem' },
      goalCard: {
        backgroundColor: 'var(--bg-card)', borderRadius: '10px', padding: '1rem',
        borderLeft: '3px solid', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start',
      },
      goalArea: { fontSize: '0.7rem', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '0.25rem', display: 'block' },
      goalText: { color: 'var(--text)', fontSize: '0.95rem' },
      deleteButton: { background: 'none', border: 'none', color: 'var(--text-muted)', fontSize: '1.25rem', cursor: 'pointer', opacity: 0.5 },

      // Seasons
      seasonsGrid: { display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' },
      seasonCard: { backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '1.25rem', border: '1px solid var(--border)' },
      seasonHeader: { marginBottom: '0.75rem', textAlign: 'center' },
      seasonName: { fontSize: '1.25rem', fontFamily: "'Fraunces', serif", marginBottom: '0.125rem' },
      seasonMonths: { fontSize: '0.75rem', opacity: 0.7 },
      seasonTextarea: {
        width: '100%', padding: '0.75rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border)',
        borderRadius: '8px', color: 'var(--text)', fontSize: '0.85rem', fontFamily: "'DM Sans', sans-serif", resize: 'none',
      },

      // Month view
      calendarContainer: { backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '1.25rem', marginBottom: '1.5rem', border: '1px solid var(--border)' },
      calendarGrid: { display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: '4px' },
      calendarDayHeader: { padding: '0.5rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.75rem', fontWeight: 500 },
      calendarDayEmpty: { aspectRatio: '1' },
      calendarDay: { aspectRatio: '1', backgroundColor: 'var(--bg-elevated)', borderRadius: '8px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', position: 'relative' },
      calendarDayToday: { border: '2px solid var(--accent)' },
      calendarDayNumber: { fontSize: '0.875rem', color: 'var(--text-light)' },
      calendarDayNumberToday: { color: 'var(--accent)', fontWeight: 600 },
      calendarDayDots: { display: 'flex', gap: '2px', position: 'absolute', bottom: '4px' },
      calendarDayDot: { width: '5px', height: '5px', borderRadius: '50%' },
      eventsList: { backgroundColor: 'var(--bg-card)', borderRadius: '12px', padding: '1.25rem', border: '1px solid var(--border)' },
      eventsHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' },
      eventsTitle: { fontSize: '1rem', fontFamily: "'Fraunces', serif", color: 'var(--text)' },
      addEventButton: { padding: '0.4rem 0.875rem', backgroundColor: 'var(--accent)', border: 'none', borderRadius: '16px', color: 'white', fontSize: '0.8rem', cursor: 'pointer' },
      eventsGrid: { display: 'flex', flexDirection: 'column', gap: '0.75rem' },
      eventCard: { borderRadius: '10px', padding: '0.875rem 1rem', borderLeft: '3px solid', backgroundColor: 'var(--bg-elevated)', display: 'flex', justifyContent: 'space-between' },
      eventType: { fontSize: '0.65rem', color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: '0.05em' },
      eventTitle: { fontSize: '0.95rem', color: 'var(--text)', fontWeight: 500 },
      eventDate: { fontSize: '0.8rem', color: 'var(--text-muted)' },

      // Modal
      modalOverlay: { position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.4)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 },
      modal: { backgroundColor: 'var(--bg-card)', borderRadius: '20px', padding: '1.75rem', width: '90%', maxWidth: '420px', border: '1px solid var(--border)' },
      modalHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' },
      modalTitle: { fontSize: '1.25rem', fontFamily: "'Fraunces', serif", color: 'var(--text)' },
      modalClose: { width: '30px', height: '30px', borderRadius: '50%', backgroundColor: 'var(--bg-elevated)', border: 'none', color: 'var(--text-muted)', fontSize: '1.125rem', cursor: 'pointer' },
      modalForm: { display: 'flex', flexDirection: 'column', gap: '1.25rem' },
      formField: { display: 'flex', flexDirection: 'column', gap: '0.5rem' },
      formRow: { display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' },
      formLabel: { fontSize: '0.75rem', color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: 500 },
      typeGrid: { display: 'flex', flexWrap: 'wrap', gap: '0.5rem' },
      typeButton: {
        padding: '0.5rem 0.875rem', backgroundColor: 'var(--bg-elevated)', border: '1px solid var(--border)',
        borderRadius: '16px', color: 'var(--text)', fontSize: '0.75rem', cursor: 'pointer', textTransform: 'capitalize',
      },
      typeButtonActive: { backgroundColor: 'var(--accent)', borderColor: 'var(--accent)', color: 'white' },
      submitButton: { padding: '0.875rem', backgroundColor: 'var(--accent)', border: 'none', borderRadius: '12px', color: 'white', fontSize: '0.9rem', fontFamily: "'DM Sans', sans-serif", fontWeight: 500, cursor: 'pointer', marginTop: '0.25rem' },
      submitButtonDisabled: { backgroundColor: 'var(--border-dark)', cursor: 'not-allowed' },
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<TendApp />);
  </script>
</body>
</html>
